<div
  [style.width]="containerWidth + 'px'"
  [style.height]="size + 'px'"
  class="rating-container"
>
  <!-- Define symbols -->
  <svg style="display: none">
    <ng-container #dynamicContainer></ng-container>
    <ng-content select="half"></ng-content>
    <ng-content select="full"></ng-content>
    <ng-content select="empty"></ng-content>
  </svg>

  <!-- Rating display -->
  <svg
    [attr.viewBox]="'0 0 ' + totalWidth + ' ' + starHeight"
    [style.width]="'100%'"
    [style.height]="'100%'"
    aria-hidden="true"
    focusable="false"
    class="rating"
  >
    <ng-container *ngFor="let state of states; let i = index">
      <use
        [id]="i + 1"
        [attr.x]="getStarPosition(i)"
        [attr.y]="0"
        [attr.width]="starWidth"
        [attr.height]="starHeight"
        [attr.xlink:href]="'#' + iconName + '-' + state"
        [ngStyle]="{ cursor: !readonly ? 'pointer' : 'default' }"
      />
    </ng-container>
  </svg>
</div>
